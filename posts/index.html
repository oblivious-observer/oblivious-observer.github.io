<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | oblivious observer</title><meta name=keywords content><meta name=description content="Posts - oblivious observer"><meta name=author content="Me"><link rel=canonical href=https://oblivious.observer/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.7140587df96a2b1a49eb723fa7063dc0c641a6cb638f3140e8d3beb4deae4f5c.css integrity="sha256-cUBYfflqKxpJ63I/pwY9wMZBpstjjzFA6NO+tN6uT1w=" rel="preload stylesheet" as=style><link rel=icon href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=16x16 href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://oblivious.observer/observer-32x32.png><link rel=apple-touch-icon href=https://oblivious.observer/observer-512x512.png><link rel=mask-icon href=https://oblivious.observer/observer-512x512.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://oblivious.observer/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://oblivious.observer/css/syntax.css><meta property="og:title" content="Posts"><meta property="og:description" content="a blog"><meta property="og:type" content="website"><meta property="og:url" content="https://oblivious.observer/posts/"><meta property="og:image" content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="oblivious.observer"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="a blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://oblivious.observer/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://oblivious.observer accesskey=h title="  (Alt + H)"><img src=https://oblivious.observer/observer-64x64.png alt aria-label=logo height=35></a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://oblivious.observer/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://oblivious.observer/posts/ title=posts><span class=active>posts</span></a></li><li><a href=https://oblivious.observer/archives/ title=archive><span>archive</span></a></li><li><a href=https://oblivious.observer/tags/ title=tags><span>tags</span></a></li><li><a href=https://oblivious.observer/index.html title=about><span>about</span></a></li><li><a href=https://oblivious.observer/index.xml title=rss><span>rss</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>NixOS Deployment with Colmena</h2></header><div class=entry-content><p>In the last post, I wrote about how to convert a ’normal’ NixOS system to one that is managed by a flake. This one will build on top of, or rather scale out of managing single hosts and dive into how to do remote management and deployment for multiple systems.
Introduction Before taking a peek into Deployments, lets set a bit of a frame of reference here first:
When talking about deployments a lot of people think about quite complex setups and the use of services such as autoscaling, instance creation etc....</p></div><footer class=entry-footer><span title='2023-07-21 00:00:00 +0000 UTC'>July 21, 2023</span>&nbsp;·&nbsp;20 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to NixOS Deployment with Colmena" href=https://oblivious.observer/posts/nixos-multi-host-deployment-with-flakes-and-colmena/></a></article><article class=post-entry><header class=entry-header><h2>The Flake Awakens - Switching to a Flake-based Configuration</h2></header><div class=entry-content><p>I’ve been meaning to write something for a while now, however before I can dive into a couple of more interesting topics here, I feel like it is the best to mention the transition to flakes. I’ll try and keep this one short, there are a bunch of other way more detailed posts on flakes already, however I didn’t find to many posts about how to switch from an existing configuration to using flakes and it seems to be quite doable....</p></div><footer class=entry-footer><span title='2023-03-13 00:00:00 +0000 UTC'>March 13, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to The Flake Awakens - Switching to a Flake-based Configuration" href=https://oblivious.observer/posts/nixos-configuration-using-flakes/></a></article><article class=post-entry><header class=entry-header><h2>Tinc different! - Part II: The Two Tunnels</h2></header><div class=entry-content><p>This is the second part of my little series about tinc and NixOS, where I first shortly introduced tinc and then explained how to set it up on Linux in general as well as on NixOS. This part is more or less a rewrite of a question I posted to the NixOS discourse a while ago.
For a while I’ve been using tinc on a bunch of infrastructure and so far it’s basically been rock solid: once set up nodes anywhere simply join their network and become reachable for anyone who needs to access them....</p></div><footer class=entry-footer><span title='2021-04-12 00:00:00 +0200 CEST'>April 12, 2021</span>&nbsp;·&nbsp;20 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Tinc different! - Part II: The Two Tunnels" href=https://oblivious.observer/posts/tincdifferent-ii-tinc-nixos-module/></a></article><article class=post-entry><header class=entry-header><h2>Tinc different! - Part I: The Fellowship of the Ping</h2></header><div class=entry-content><p>This is a post about tinc - a nifty little Mesh VPN service. It is also the first part of a little series of posts related to tinc and NixOS. In this first part I’ll just write a bit about how to set up tinc, then in the second part I’ll take a closer look into how writing a NixOS module can managing tinc networks easier. And finally in the third part I’ll present a rewrite of the module with a bunch more features....</p></div><footer class=entry-footer><span title='2021-04-03 00:00:00 +0200 CEST'>April 3, 2021</span>&nbsp;·&nbsp;10 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Tinc different! - Part I: The Fellowship of the Ping" href=https://oblivious.observer/posts/tincdifferent-i-tinc-nixos/></a></article><article class=post-entry><header class=entry-header><h2>Blogging with orgmode, hugo and nix</h2></header><div class=entry-content><p>How I yet again decided to set up another iteration of this blog. This time using nix, hugo and of course orgmode..
Introduction This is my third attempt of setting up an easy to use blogging workflow. The first time I chose to try out use ox-hugo as well as github pages. Initially everything worked, but I quickly stopped writing posts because my initial setup using a single orgmode file with ox-hugo did not match my notetaking workflow, where I basically generate a bunch of random files and some of them get reworked or updated enough for me to think about publishing them....</p></div><footer class=entry-footer><span title='2021-03-22 00:00:00 +0100 CET'>March 22, 2021</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Blogging with orgmode, hugo and nix" href=https://oblivious.observer/posts/blogging-with-ox-hugo-2.0/></a></article><article class=post-entry><header class=entry-header><h2>Including noweb snippets in orgmode</h2></header><div class=entry-content><p>This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you’ve never used noweb syntax in orgmode you should definitely look it up....</p></div><footer class=entry-footer><span title='2020-09-14 00:00:00 +0200 CEST'>September 14, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Including noweb snippets in orgmode" href=https://oblivious.observer/posts/orgmode-include-noweb-extensions/></a></article><article class=post-entry><header class=entry-header><h2>NixOS encrypted VM installation</h2></header><div class=entry-content><p>In this post I’ll describe how to set up a sparse VM image with full disk encryption and NixOS on ZFS, which can be uploaded to a VPS provider and then unlocked on boot using ssh.
First we need to create a virtual machine image file. Initially I tried using qemu-img, but somehow the image file was missing some information and the VM would not recognize a disk. Instead I went with the easy way and used virt-manager to create a new VM with the correct image size....</p></div><footer class=entry-footer><span title='2020-08-29 00:00:00 +0200 CEST'>August 29, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to NixOS encrypted VM installation" href=https://oblivious.observer/posts/nixos-20.03-luks-zfs-kvm/></a></article><article class=post-entry><header class=entry-header><h2>NixOS on ZFS Install Script</h2></header><div class=entry-content><p>This is a rather short post and the start of what will hopefully become a nice little series of posts related to NixOS.
I just had to bulk install NixOS on a bunch of Intel NUCs, here is a little script to automate the installation process. Some bits and pieces are taken from other installation scripts, but it’s been a while, so I don’t know who to credit for them, I’m fairly sure this wonderful post from the NixOS discourse was involved though....</p></div><footer class=entry-footer><span title='2020-08-26 00:00:00 +0200 CEST'>August 26, 2020</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to NixOS on ZFS Install Script" href=https://oblivious.observer/posts/nixos-zfs-install-script/></a></article><article class=post-entry><header class=entry-header><h2>Introducing oblivious</h2></header><div class=entry-content><p>There is a new static site generator on the block.. also hello world..
Update (2021): guess what, I’m back to hugo.. Not necessarily because I started to dislike the idea of oblivious, I think it still is a pretty interesting concept and I particularly love the idea of being able to create a site, while having minimal dependencies and being pretty much language agnostic. The reason I switched was that on the one hand I got a bit more involved with NixOS, which seems to be even better suited to some of the things oblivious ended up taking care of (such as fetching resources) and on the other hand I just want to be able to publish something by pressing a bunch of keys without having to actively maintain the underlying tooling....</p></div><footer class=entry-footer><span title='2020-08-22 00:00:00 +0200 CEST'>August 22, 2020</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Introducing oblivious" href=https://oblivious.observer/posts/introducing-oblivious/></a></article><article class=post-entry><header class=entry-header><h2>Introducing a Boot Environment Manager for Proxmox</h2></header><div class=entry-content><p>This post introduces a fork of the FreeBSD beadm utility which can be used to manage Boot Environments on Proxmox ZFS Installations.
In this Post I will showcase how to use the beadm Boot Environment manager in Proxmox. After the showcase there are some notes on what I did to make beadm run on Linux in general and finally a part about what has been changed in order to make beadm work with Proxmox specifically....</p></div><footer class=entry-footer><span title='2019-10-29 00:00:00 +0100 CET'>October 29, 2019</span>&nbsp;·&nbsp;17 min&nbsp;·&nbsp;oblivious observer</footer><a class=entry-link aria-label="post link to Introducing a Boot Environment Manager for Proxmox" href=https://oblivious.observer/posts/proxmoxve6-boot-environment-manager/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://oblivious.observer/posts/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>