<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Including noweb snippets in orgmode | oblivious observer</title><meta name=keywords content="Emacs,orgmode,noweb"><meta name=description content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><meta name=author content="oblivious observer"><link rel=canonical href=https://oblivious.observer/posts/orgmode-include-noweb-extensions/><link href=/assets/css/stylesheet.min.2fe20f8bc0dfa5e1b6cdbdf2cd0ff90da85d80a5d39aced2f9ff00407eedffde.css integrity="sha256-L+IPi8DfpeG2zb3yzQ/5DahdgKXTms7S+f8AQH7t/94=" rel="preload stylesheet" as=style><link rel=icon href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=16x16 href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://oblivious.observer/observer-32x32.png><link rel=apple-touch-icon href=https://oblivious.observer/observer-512x512.png><link rel=mask-icon href=https://oblivious.observer/observer-512x512.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.74.3"><meta property="og:title" content="Including noweb snippets in orgmode"><meta property="og:description" content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><meta property="og:type" content="article"><meta property="og:url" content="https://oblivious.observer/posts/orgmode-include-noweb-extensions/"><meta property="og:image" content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:published_time" content="2020-09-14T00:00:00+02:00"><meta property="article:modified_time" content="2020-09-14T00:00:00+02:00"><meta property="og:site_name" content="oblivious.observer"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Including noweb snippets in orgmode"><meta name=twitter:description content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://oblivious.observer/posts/"},{"@type":"ListItem","position":3,"name":"Including noweb snippets in orgmode","item":"https://oblivious.observer/posts/orgmode-include-noweb-extensions/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Including noweb snippets in orgmode","name":"Including noweb snippets in orgmode","description":"This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.\nnoweb syntax provides a really nifty way …","keywords":["Emacs","orgmode","noweb"],"articleBody":"This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.\nnoweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you’ve never used noweb syntax in orgmode you should definitely look it up.\nOne thing that is missing however was the the ability to include orgfiles containing noweb extensions and then use the snippets in another file like this:\n#+setupfile: snippet_collection.org # or: #+include: snippet_collection.org Using the library of babel we can however load snippets from other files like this:\n(org-babel-lob-ingest \"./path/to/snippet_collection.org\") It is also possible to use a little function like this in order to load multiple files from a directory:\n(loop for filename in (file-expand-wildcards \"./path/to/snippet_collection/*.org\") collect (org-babel-lob-ingest filename)) Now in order to load the snippets upon opening the orgmode file add something like this or set up a .dir-locals.el file:\n# Local Variables: # eval: (loop for filename in (file-expand-wildcards \"./dir/*.org\") collect (org-babel-lob-ingest filename)) # End: Of course instead of adding this line to every single file, it is also possible to create a setupfile containing these variables and to load the snippets using something like this:\n#+setupfile: snippet_collection.org # or: #+include: snippet_collection.org ","wordCount":"234","inLanguage":"en","datePublished":"2020-09-14T00:00:00+02:00","dateModified":"2020-09-14T00:00:00+02:00","author":[{"@type":"Person","name":"oblivious observer"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://oblivious.observer/posts/orgmode-include-noweb-extensions/"},"publisher":{"@type":"Organization","name":"oblivious observer","logo":{"@type":"ImageObject","url":"https://oblivious.observer/observer-16x16.png"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}@media(prefers-color-scheme:dark){:root{--theme: #1d1e20;--entry: #2e2e33;--primary: rgba(255, 255, 255, 0.84);--secondary: rgba(255, 255, 255, 0.56);--tertiary: rgba(255, 255, 255, 0.16);--content: rgba(255, 255, 255, 0.74);--hljs-bg: #2e2e33;--code-bg: #37383e;--border: #333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://oblivious.observer accesskey=h title="(Alt + H)"><img src=/observer-64x64.png alt=logo aria-label=logo height=35></a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://oblivious.observer/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://oblivious.observer/posts/ title=posts><span>posts</span></a></li><li><a href=https://oblivious.observer/archives/ title=archive><span>archive</span></a></li><li><a href=https://oblivious.observer/tags/ title=tags><span>tags</span></a></li><li><a href=https://oblivious.observer/index.html title=about><span>about</span></a></li><li><a href=https://oblivious.observer/index.xml title=rss><span>rss</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Including noweb snippets in orgmode</h1><div class=post-meta>September 14, 2020&nbsp;·&nbsp;2 min&nbsp;·&nbsp;oblivious observer</div></header><div class=post-content><p>This is a bit of a strange one, but in case anyone else goes down the rabbit
hole of using noweb inside orgmode, this might be interesting.</p><p><a href=https://www.cs.tufts.edu/~nr/noweb/>noweb</a> syntax provides a really nifty way to split up or even autogenerate code
blocks in orgmode documents. When writing literate documents noweb syntax also
provides one with a way of staying on topic, whenever these files become more
complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look
it up.</p><p>One thing that is missing however was the the ability to include orgfiles containing
noweb extensions and then use the snippets in another file like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=color:#75715e>#+setupfile</span><span style=color:#75715e>: snippet_collection.org</span>
<span style=color:#75715e># or:</span>
<span style=color:#75715e>#+include</span><span style=color:#75715e>: snippet_collection.org</span>
</code></pre></div><p>Using the <a href=https://orgmode.org/worg/library-of-babel.html>library of babel</a> we can however load snippets from other files like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp>(org-babel-lob-ingest <span style=color:#e6db74>&#34;./path/to/snippet_collection.org&#34;</span>)
</code></pre></div><p>It is also possible to use a little function like this in order to load multiple
files from a directory:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp>(loop for filename in (file-expand-wildcards <span style=color:#e6db74>&#34;./path/to/snippet_collection/*.org&#34;</span>) collect (org-babel-lob-ingest filename))
</code></pre></div><p>Now in order to load the snippets upon opening the orgmode file add something
like this or set up a <code>.dir-locals.el</code> file:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text># Local Variables:
# eval: (loop for filename in (file-expand-wildcards &#34;./dir/*.org&#34;) collect (org-babel-lob-ingest filename))
# End:
</code></pre></div><p>Of course instead of adding this line to every single file, it is also possible
to create a setupfile containing these variables and to load the snippets using
something like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=color:#75715e>#+setupfile</span><span style=color:#75715e>: snippet_collection.org</span>
<span style=color:#75715e># or:</span>
<span style=color:#75715e>#+include</span><span style=color:#75715e>: snippet_collection.org</span>
</code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://oblivious.observer/tags/emacs/>Emacs</a></li><li><a href=https://oblivious.observer/tags/orgmode/>orgmode</a></li><li><a href=https://oblivious.observer/tags/noweb/>noweb</a></li></ul></footer><script src=https://utteranc.es/client.js repo=observer/observer.github.io issue-term=url label=💬 theme=photon-dark crossorigin=anonymous async></script></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>