<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Including noweb snippets in orgmode | oblivious observer</title><meta name=keywords content="Emacs,orgmode,noweb"><meta name=description content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><meta name=author content="oblivious observer"><link rel=canonical href=https://oblivious.observer/posts/orgmode-include-noweb-extensions/><link crossorigin=anonymous href=/assets/css/stylesheet.dc96e9e0118e5e264a03d68b104df6ae869cfb73c61f5f89dd91aeb16b0d8c03.css integrity="sha256-3Jbp4BGOXiZKA9aLEE32roac+3PGH1+J3ZGusWsNjAM=" rel="preload stylesheet" as=style><link rel=icon href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=16x16 href=https://oblivious.observer/observer-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://oblivious.observer/observer-32x32.png><link rel=apple-touch-icon href=https://oblivious.observer/observer-512x512.png><link rel=mask-icon href=https://oblivious.observer/observer-512x512.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://oblivious.observer/css/syntax.css><meta property="og:title" content="Including noweb snippets in orgmode"><meta property="og:description" content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><meta property="og:type" content="article"><meta property="og:url" content="https://oblivious.observer/posts/orgmode-include-noweb-extensions/"><meta property="og:image" content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-14T00:00:00+02:00"><meta property="article:modified_time" content="2020-09-14T00:00:00+02:00"><meta property="og:site_name" content="oblivious.observer"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oblivious.observer/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Including noweb snippets in orgmode"><meta name=twitter:description content="This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.
noweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look it up."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://oblivious.observer/posts/"},{"@type":"ListItem","position":3,"name":"Including noweb snippets in orgmode","item":"https://oblivious.observer/posts/orgmode-include-noweb-extensions/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Including noweb snippets in orgmode","name":"Including noweb snippets in orgmode","description":"This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.\nnoweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you\u0026rsquo;ve never used noweb syntax in orgmode you should definitely look it up.","keywords":["Emacs","orgmode","noweb"],"articleBody":"This is a bit of a strange one, but in case anyone else goes down the rabbit hole of using noweb inside orgmode, this might be interesting.\nnoweb syntax provides a really nifty way to split up or even autogenerate code blocks in orgmode documents. When writing literate documents noweb syntax also provides one with a way of staying on topic, whenever these files become more complex. If you’ve never used noweb syntax in orgmode you should definitely look it up.\nOne thing that is missing however was the the ability to include orgfiles containing noweb extensions and then use the snippets in another file like this:\n#+setupfile: snippet_collection.org # or: #+include: snippet_collection.org Using the library of babel we can however load snippets from other files like this:\n(org-babel-lob-ingest \"./path/to/snippet_collection.org\") It is also possible to use a little function like this in order to load multiple files from a directory:\n(loop for filename in (file-expand-wildcards \"./path/to/snippet_collection/*.org\") collect (org-babel-lob-ingest filename)) Now in order to load the snippets upon opening the orgmode file add something like this or set up a .dir-locals.el file:\n# Local Variables: # eval: (loop for filename in (file-expand-wildcards \"./dir/*.org\") collect (org-babel-lob-ingest filename)) # End: Of course instead of adding this line to every single file, it is also possible to create a setupfile containing these variables and to load the snippets using something like this:\n#+setupfile: snippet_collection.org # or: #+include: snippet_collection.org ","wordCount":"234","inLanguage":"en","datePublished":"2020-09-14T00:00:00+02:00","dateModified":"2020-09-14T00:00:00+02:00","author":[{"@type":"Person","name":"oblivious observer"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://oblivious.observer/posts/orgmode-include-noweb-extensions/"},"publisher":{"@type":"Organization","name":"oblivious observer","logo":{"@type":"ImageObject","url":"https://oblivious.observer/observer-16x16.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://oblivious.observer accesskey=h title="  (Alt + H)"><img src=https://oblivious.observer/observer-64x64.png alt aria-label=logo height=35></a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://oblivious.observer/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://oblivious.observer/posts/ title=posts><span>posts</span></a></li><li><a href=https://oblivious.observer/archives/ title=archive><span>archive</span></a></li><li><a href=https://oblivious.observer/tags/ title=tags><span>tags</span></a></li><li><a href=https://oblivious.observer/index.html title=about><span>about</span></a></li><li><a href=https://oblivious.observer/index.xml title=rss><span>rss</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Including noweb snippets in orgmode</h1><div class=post-meta><span title='2020-09-14 00:00:00 +0200 CEST'>September 14, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;oblivious observer</div></header><div class=post-content><p>This is a bit of a strange one, but in case anyone else goes down the rabbit
hole of using noweb inside orgmode, this might be interesting.</p><p><a href=https://www.cs.tufts.edu/~nr/noweb/>noweb</a> syntax provides a really nifty way to split up or even autogenerate code
blocks in orgmode documents. When writing literate documents noweb syntax also
provides one with a way of staying on topic, whenever these files become more
complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look
it up.</p><p>One thing that is missing however was the the ability to include orgfiles containing
noweb extensions and then use the snippets in another file like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#6272a4>#+setupfile</span><span style=color:#6272a4>: snippet_collection.org</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># or:</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>#+include</span><span style=color:#6272a4>: snippet_collection.org</span>
</span></span></code></pre></div><p>Using the <a href=https://orgmode.org/worg/library-of-babel.html>library of babel</a> we can however load snippets from other files like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>org-babel-lob-ingest</span> <span style=color:#f1fa8c>&#34;./path/to/snippet_collection.org&#34;</span>)
</span></span></code></pre></div><p>It is also possible to use a little function like this in order to load multiple
files from a directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-emacs-lisp data-lang=emacs-lisp><span style=display:flex><span>(<span style=color:#8be9fd;font-style:italic>loop</span> <span style=color:#8be9fd;font-style:italic>for</span> <span style=color:#8be9fd;font-style:italic>filename</span> <span style=color:#8be9fd;font-style:italic>in</span> (<span style=color:#8be9fd;font-style:italic>file-expand-wildcards</span> <span style=color:#f1fa8c>&#34;./path/to/snippet_collection/*.org&#34;</span>) <span style=color:#8be9fd;font-style:italic>collect</span> (<span style=color:#8be9fd;font-style:italic>org-babel-lob-ingest</span> <span style=color:#8be9fd;font-style:italic>filename</span>))
</span></span></code></pre></div><p>Now in order to load the snippets upon opening the orgmode file add something
like this or set up a <code>.dir-locals.el</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># Local Variables:
</span></span><span style=display:flex><span># eval: (loop for filename in (file-expand-wildcards &#34;./dir/*.org&#34;) collect (org-babel-lob-ingest filename))
</span></span><span style=display:flex><span># End:
</span></span></code></pre></div><p>Of course instead of adding this line to every single file, it is also possible
to create a setupfile containing these variables and to load the snippets using
something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-org data-lang=org><span style=display:flex><span><span style=color:#6272a4>#+setupfile</span><span style=color:#6272a4>: snippet_collection.org</span>
</span></span><span style=display:flex><span><span style=color:#6272a4># or:</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>#+include</span><span style=color:#6272a4>: snippet_collection.org</span>
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://oblivious.observer/tags/emacs/>Emacs</a></li><li><a href=https://oblivious.observer/tags/orgmode/>orgmode</a></li><li><a href=https://oblivious.observer/tags/noweb/>noweb</a></li></ul></footer><script src=https://utteranc.es/client.js repo=observer/observer.github.io issue-term=url label=💬 theme=photon-dark crossorigin=anonymous async></script></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>