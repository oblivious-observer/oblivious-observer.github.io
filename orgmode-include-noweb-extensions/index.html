<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-15 Tue 18:01 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Including snippets</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Oblivious Observer" />
<meta name="description" content="How to include noweb snippets from other files in orgmode"
 />
<script src="/static/jquery.min.js"></script>
<script src="/static/jquery.slim.min.js"></script>
<script src="/static/popper.min.js"></script>
<link rel="stylesheet" href="/static/bootstrap.min.css">
<script src="/static/bootstrap.min.js"></script>
<script src="/static/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="/static/roboto.txt">
<style type="text/css">body{ padding: 5em 20%;}</style>
<style type="text/css">code { color: #808080;}</style>
<style type="text/css">pre { padding: 0pt;}</style>
<style type="text/css">.navbar { margin:0 !important; padding: 0px !important; } </style>
<link rel="stylesheet" href="/static/github.css">
<script src="/static/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

        <style>
        /* From: https://endlessparentheses.com/public/css/endless.css */
        /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
        kbd
        {
          -moz-border-radius: 6px;
          -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          -webkit-border-radius: 6px;
          -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          background-color: #f7f7f7;
          border: 1px solid #ccc;
          border-radius: 6px;
          box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          color: #333;
          display: inline-block;
          font-family: 'Droid Sans Mono', monospace;
          font-size: 80%;
          font-weight: normal;
          line-height: inherit;
          margin: 0 .1em;
          padding: .08em .4em;
          text-shadow: 0 1px 0 #fff;
          word-spacing: -4px;

          box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
        }
        </style>
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>

        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />

        <script type="text/javascript">
            if (typeof jQuery == 'undefined') {
                document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
            }
        </script>

         <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>

          <script>
                 $(document).ready(function() {
                     $('.tooltip').tooltipster({
                         theme: 'tooltipster-punk',
                         contentAsHTML: true,
                         animation: 'grow',
                         delay: [100,500],
                         // trigger: 'click'
                         trigger: 'custom',
                         triggerOpen: {
                             mouseenter: true
                         },
                         triggerClose: {
                             originClick: true,
                             scroll: true
                         }
         });
                 });
             </script>

        <style>
           abbr {color: red;}

           .tooltip { border-bottom: 1px dotted #000;
                      color:red;
                      text-decoration: none;}
        </style>
</head>
<body>
<div id="preamble" class="status">
<!-- [[file:~/blog/readme.org::*Navigation][Navigation:1]] -->
<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
  <div class="container">

  <a class="navbar-brand" href="/"> <img src="/static/observer.png" width="35" height="35" class="d-inline-block align-top" alt=""> </a>


  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="nav navbar-nav ml-auto w-100 justify-content-left">
      <li class="nav-item">
        <a class="nav-link" href="/"> Oblivious Observer </a>
      </li>
    </ul>
    <ul class="nav navbar-nav ml-auto w-100 justify-content-end">
      <li class="nav-item">
        <a class="nav-link" href="/about">about</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/config">config</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://github.com/observer/observer.github.io">src</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/tags">tags</a>
      </li>
    </ul>
  </div>
  </div>
</nav>
<!-- Navigation:1 ends here -->
</div>
<div id="content">
<h1 class="title">Including snippets</h1>
<p>
<a href="https://www.cs.tufts.edu/~nr/noweb/">noweb</a> syntax provides a really nifty way to split up or even autogenerate code
blocks in orgmode documents. When writing literate documents noweb syntax also
provides one with a way of staying on topic, whenever these files become more
complex. If you&rsquo;ve never used noweb syntax in orgmode you should definitely look
it up.
</p>

<p>
One thing that is missing however was the the ability to include orgfiles containing
noweb extensions and then use the snippets in another file like this:
</p>

<div class="org-src-container">
<pre><code class="org">#+setupfile: snippet_collection.org
# or:
#+include: snippet_collection.org
</code></pre>
</div>

<p>
Using the <a href="https://orgmode.org/worg/library-of-babel.html">library of babel</a> we can load snippets from other files like this:
</p>
<div class="org-src-container">
<pre><code class="emacs-lisp">(org-babel-lob-ingest "./path/to/snippet_collection.org")
</code></pre>
</div>

<p>
It is also possible to use a little function like this in order to load multiple
files from a directory:
</p>
<div class="org-src-container">
<pre><code class="emacs-lisp">(loop for filename in (file-expand-wildcards "./path/to/snippet_collection/*.org") collect (org-babel-lob-ingest filename))
</code></pre>
</div>

<p>
Now in order to load the snippets upon opening the orgmode file add something
like this or set up a <code>.dir-locals.el</code> file:
</p>
<pre class="example">
# Local Variables:
# eval: (loop for filename in (file-expand-wildcards "./dir/*.org") collect (org-babel-lob-ingest filename))
# End:
</pre>

<p>
Of course instead of adding this line to every single file, it is also possible
to create a setupfile containing these variables and to load the snippets using
something like this:
</p>

<div class="org-src-container">
<pre><code class="org">#+setupfile: snippet_collection.org
# or:
#+include: snippet_collection.org
</code></pre>
</div>


<script src=https://utteranc.es/client.js
        repo=observer/observer.github.io
        issue-term=url
        label=ðŸ’¬
        theme=github-light
        crossorigin=anonymous
        async>
</script>
</div>
</body>
</html>
